# IPv4

最近重新学习了下关于网络的子网划分和子网掩码的计算规则，简单总结下几个知识点 IP 地址、子网掩码、网络号、主机号、网络地址、主机地址

## 基础知识

我们都知道 IPv4 是一组 192.21.212.155 以点分割的四组十进制，转换为 二进制就是 4 个字节，每一个字节 8 位也就是 `32 位 二进制`。而每一个字节都是可以是 0-255 也就是 2^0~2^7，加起来就是 255 个。

简单说明：

假设我们现在利用二进制来表示

00000000 对应的位分别是 2^7|2^6|2^5|2^4|2^3|2^2|2^1|2^0 也就是说，8 个 0 每一个位上对应的十进制都如下表。

| 0   | 0   | 0   | 0   | 0   | 0   | 0   | 0   |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 128 | 64  | 32  | 16  | 8   | 4   | 2   | 1   |

通过这个规则，我们将 192.168.212.155 二进制表示的话就是 11000000.10101000.11010100.10011011

## 网络划分

一般我们的 IP 地址划分的时候都有`主机号`和`网络号`，但是主机号和网络号是需要通过子网掩码计算得到的。所以先知道这个概念，后面我们可以通过计算得到。

### IP 地址分类

IP 地址 划分的时候会有 ABCDE，他们有一个划分规则。

<img :src="$withBase('/assets/images/network/IP_type.png')">

A：这样 A 类地址的第一位 IP 就是 0 ～ 127。

B：这样 B 类的地址的第一位 IP 范围就是 128 ～ 191。

C：范围 192-223。

所以当我们拿到一个 IP 地址之后，我们基本上就判断出来这个 IP 是属于哪类 IP。

### 网络号和主机号

A 类 IP 地址的网络号是其第一组也就是第一整个字节，也就是说前 8 位是网络号，一共 256（0-255） 个网络号，剩下的三个字节为主机号，而每一个字节容纳的主机是 256（0-255）个，所以 A 类网络一共是 256 个网络，每一个网络容纳的主机数为 `256*256*256`。从这个容纳的主机数上看，数量有点大，可以容纳的主机号一共是`256*256*256`个，但是有可能并没这么多的设备，所以就产生了剩下的两种网络号。

| 网络号 | 主机号 | 主机号 | 主机号 |
| ------ | ------ | ------ | ------ |
| 255    | 0      | 0      | 0      |

B 类的网络号是前两个字节也就是前 16 位，后面两个字节是主机号，这样 B 类一共是 `256*256` 个网络，每一个网络有 256 个地址。

| 网络号 | 网络号 | 主机号 | 主机号 |
| ------ | ------ | ------ | ------ |
| 255    | 255    | 0      | 0      |

C 类是将前三个字节，前 24 位作为网络号 255.255.255，剩下后一位为主机号，一共 256 个地址。

| 网络号 | 网络号 | 网络号 | 主机号 |
| ------ | ------ | ------ | ------ |
| 255    | 255    | 255    | 0      |

- 私有 IP 网段

· 10.0.0.0 ～ 10.255.255.255；

· 172.16.0.0 ～ 172.31.255.255；

· 192.168.0.0 ～ 192.168.255.255。